(this.webpackJsonpjournal=this.webpackJsonpjournal||[]).push([[0],{108:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(1),i=n.n(r),c=n(13),s=n.n(c),o=(n(108),n(15)),l=n(56);l.a.initializeApp({apiKey:"AIzaSyBfzhQOCtbcUk_tWjPDnjYtHwoouCEkclg",authDomain:"journal-bb5e3.firebaseapp.com",databaseURL:"https://journal-bb5e3.firebaseio.com",projectId:"journal-bb5e3",storageBucket:"journal-bb5e3.appspot.com",messagingSenderId:"918752509407",appId:"1:918752509407:web:77670a68ff906f13e5d86a"});var j=new l.a.auth.GoogleAuthProvider,d=function(){l.a.auth().signInWithPopup(j)},u=l.a,b=i.a.createContext(),O=function(e){var t=e.children,n=Object(r.useState)(null),i=Object(o.a)(n,2),c=i[0],s=i[1],l=Object(r.useState)(!0),j=Object(o.a)(l,2),d=(j[0],j[1]);return Object(r.useEffect)((function(){u.auth().onAuthStateChanged((function(e){s(e),d(!1);var t=u.firestore().collection("users");if(e){var n=t.doc(e.uid);n.get().then((function(t){t&&t.exists||(console.log("Creating user"),n.set({username:e.displayName,email:e.email}))}))}}))}),[]),Object(a.jsx)(b.Provider,{value:{currentUser:c},children:t})},h=n(51),x=n(18),f=n(171),p=n(33),g=n(161),m=n(183),v=n(119),w=Object(g.a)((function(e){return{root:{"& > *":{width:"40ch"}}}}));var y=function(e){var t=w(),n=i.a.useState(""),c=Object(o.a)(n,2),s=c[0],l=c[1],j=e.index,d=e.response;return e.required,Object(r.useEffect)((function(){d&&l(d)}),[d]),Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"h6",style:{marginBottom:0,marginTop:20},children:e.title}),Object(a.jsx)(m.a,{className:t.root,id:"inputBox"+j,label:"\u041c\u043e\u0439 \u043e\u0442\u0432\u0435\u0442",value:s,onChange:function(t){l(t.target.value),e.returnAnswer(t.target.value,e.index)},disabled:!!e.locked})]})},k=n(168),S=n(182),C=n(167),q=n(177),B=Object(g.a)((function(e){return{formControl:{minWidth:120}}}));function A(e){var t=B(),n=i.a.useState(""),c=Object(o.a)(n,2),s=c[0],l=c[1],j=i.a.useState(!1),d=Object(o.a)(j,2),u=d[0],b=d[1],O=e.index,h=e.response;e.required;Object(r.useEffect)((function(){h&&l(h)}),[h]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"h6",style:{marginBottom:5,marginTop:20},children:e.title}),Object(a.jsxs)(C.a,{className:t.formControl,disabled:!!e.locked,children:[Object(a.jsx)(k.a,{id:"controlled-open-select-label",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}),Object(a.jsxs)(q.a,{labelId:"controlled-open-select-label",id:"select"+O,open:u,onClose:function(e){b(!1)},onOpen:function(e){b(!0)},value:s,onChange:function(t){l(t.target.value);e.answers.indexOf(t.target.value);e.returnAnswer(t.target.value,O)},children:[Object(a.jsx)(S.a,{value:"",children:Object(a.jsx)("em",{children:"None"})}),e.answers.map((function(e,t){return Object(a.jsx)(S.a,{value:e,children:e},t)}))]})]})]})}var N=n(179),I=n(185),L=n(170);function E(e){var t=i.a.useState(""),n=Object(o.a)(t,2),c=n[0],s=n[1],l=e.index,j=e.response;Object(r.useEffect)((function(){j&&s(j)}),[j]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:e.title}),Object(a.jsx)(C.a,{const:"fieldset",children:Object(a.jsx)(I.a,{"aria-label":e.title,name:e.title,value:c,onChange:function(t){s(t.target.value);var n=e.answers.indexOf(t.target.value);e.returnAnswer(t.target.value,l,n)},children:e.answers.map((function(t,n){return Object(a.jsx)(L.a,{value:t,control:Object(a.jsx)(N.a,{color:"primary"}),label:t,disabled:!!e.locked},n)}))})})]})}var P=Object(g.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"auto"}}}));function U(e){var t=P(),n=i.a.useState(""),c=Object(o.a)(n,2),s=c[0],l=c[1],j=e.index,d=e.response;Object(r.useEffect)((function(){d&&l(d)}),[j,d]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:e.title}),Object(a.jsx)("form",{className:t.container,noValidate:!0,children:Object(a.jsx)(m.a,{id:"time"+j,label:"\u0412\u0440\u0435\u043c\u044f",type:"time",value:s,onChange:function(t){l(t.target.value),e.returnAnswer(t.target.value,j,t.target.value)},className:t.textField,InputLabelProps:{shrink:!0},InputProps:{disableUnderline:!0},disabled:!!e.locked})})]})}var z=n(37),T=n(120),W=n(169),F=n(181);function H(e){var t=i.a.useState({}),n=Object(o.a)(t,2),c=n[0],s=n[1],l=Object(r.useState)(!1),j=Object(o.a)(l,2),d=j[0],u=j[1],b=e.index,O=e.answers,h=(e.required,e.response);Object(r.useEffect)((function(){h&&s(h),u(!0)}),[h]);var x=function(t){s(Object(p.a)(Object(p.a)({},c),{},Object(z.a)({},t.target.name,t.target.checked))),e.returnAnswer(Object(p.a)(Object(p.a)({},c),{},Object(z.a)({},t.target.name,t.target.checked)),b)};return d?Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"h6",style:{marginBottom:0,marginTop:20},children:e.title}),Object(a.jsxs)(C.a,{component:"fieldset",children:[Object(a.jsx)(T.a,{component:"legend",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"}),Object(a.jsx)(W.a,{children:O.map((function(e,t){return Object(a.jsx)(L.a,{control:Object(a.jsx)(F.a,{checked:c[e],onChange:x,name:e}),label:e},t)}))})]})]}):null}var G=n(172),R=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)({}),s=Object(o.a)(c,2),l=s[0],j=s[1],O=Object(r.useState)([]),h=Object(o.a)(O,2),g=h[0],m=h[1],w=Object(r.useState)(!1),k=Object(o.a)(w,2),S=k[0],C=k[1],q=Object(r.useState)(!1),B=Object(o.a)(q,2),N=B[0],I=B[1],L=Object(r.useState)({}),P=Object(o.a)(L,2),z=(P[0],P[1]),T=Object(r.useContext)(b).currentUser;Object(r.useEffect)((function(){var e={};T&&u.firestore().collection("users").doc(T.uid).get().then((function(t){z(t.data()),e=t.data()})).then((function(){u.firestore().collection("profileTemplate").doc("Template").get().then((function(t){console.log(JSON.stringify(t.data())),i(t.data().questions),console.log(t.data().questions);var n=t.data().questions.map((function(t,n){var r=null;return e[t.key]&&(console.log(e[t.key]),r=e[t.key]),"input"===t.type?Object(a.jsx)(y,{index:n,title:t.question,response:r,returnAnswer:W,required:t.required},n):"select"===t.type?Object(a.jsx)(A,{index:n,title:t.question,response:r,answers:t.answers,returnAnswer:W,required:t.required},n):"radio"===t.type?Object(a.jsx)(E,{index:n,title:t.question,response:r,answers:t.answers,returnAnswer:W,required:t.required},n):"time"===t.type?Object(a.jsx)(U,{index:n,title:t.question,response:r,returnAnswer:W,required:t.required},n):"checkbox"===t.type?Object(a.jsx)(H,{index:n,title:t.question,response:r,answers:t.answers,returnAnswer:W,required:t.required},n):null}));m(n)}))}))}),[T]);var W=function(e,t){var n=l;n[t]=e,j(n),console.log(l)};return T?Object(a.jsxs)(f.a,{style:{padding:30},children:[N&&Object(a.jsx)(x.a,{to:"/"}),g,Object(a.jsxs)(f.a,{container:!0,style:{padding:20},justify:"center",children:[Object(a.jsx)(G.a,{variant:"outlined",style:{borderWidth:2,borderColor:"#003366",color:"#003366",margin:10},onClick:function(){var e={};n.forEach((function(t,n){l[n]&&(e[t.key]=l[n])})),u.firestore().collection("users").doc(T.uid).update(Object(p.a)({},e)).then((function(){return C(!0)}))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),S&&Object(a.jsx)(G.a,{variant:"outlined",style:{borderWidth:2,borderColor:"red",color:"red",margin:10},onClick:function(){return I(!0)},children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})]}):Object(a.jsxs)(f.a,{container:!0,direction:"column",style:{padding:20},justify:"center",children:[Object(a.jsx)(v.a,{align:"center",variant:"h3",children:"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"}),Object(a.jsx)("br",{}),Object(a.jsx)(G.a,{variant:"contained",onClick:d,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 Google"})]})},D=n(6),J=n(7),_=n(25),K=n(180),M=n(173),Q=n(174),V=n(175),Y=n(122),X=n(176),Z=n(86),$=n.n(Z),ee=n(87),te=n.n(ee),ne=n(88),ae=n.n(ne),re=220,ie=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{background:"white",boxShadow:"none",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(re,"px)"),marginLeft:re,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{color:"gray",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:re,flexShrink:0},drawerPaper:{width:re},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-220},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},small:{width:e.spacing(4),height:e.spacing(4)},formControl:{margin:e.spacing(1),minWidth:120}}}));Object(J.a)({root:{justifyContent:"flex-end"}})(S.a);function ce(e){var t=Object(r.useContext)(b).currentUser,n=ie(),c=Object(_.a)(),s=Object(r.useState)(!1),l=Object(o.a)(s,2),j=l[0],O=l[1],x=Object(r.useState)(!1),p=Object(o.a)(x,2),g=(p[0],p[1],i.a.useState(null)),m=Object(o.a)(g,2),v=m[0];m[1],Boolean(v);return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(M.a,{}),Object(a.jsx)(Q.a,{position:"fixed",className:Object(D.a)(n.appBar,Object(z.a)({},n.appBarShift,j)),children:Object(a.jsxs)(V.a,{style:{paddingLeft:15,paddingRight:15},children:[Object(a.jsx)(Y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){O(!0)},edge:"start",className:Object(D.a)(n.menuButton,j&&n.hide),children:Object(a.jsx)($.a,{})}),Object(a.jsx)(f.a,{container:!0,style:{flexGrow:1},children:Object(a.jsx)("img",{src:"https://kloop.kg/wp-content/uploads/2019/10/kloop_transparent_site.png",alt:"Kloop.kg - \u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d\u0430",style:{width:150,height:"auto"}})}),t?Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{style:{borderColor:"black",color:"black",marginLeft:10,fontSize:12},variant:"outlined",size:"small",onClick:function(){return u.auth().signOut()},children:"\u0412\u044b\u0445\u043e\u0434"})}):Object(a.jsx)(G.a,{style:{borderColor:"black",color:"black",marginLeft:10,fontSize:12},size:"small",variant:"outlined",onClick:d,children:"\u0432\u0445\u043e\u0434"})]})}),Object(a.jsxs)(K.a,{className:n.drawer,variant:"persistent",anchor:"left",open:j,classes:{paper:n.drawerPaper},children:[Object(a.jsx)("div",{className:n.drawerHeader,children:Object(a.jsx)(Y.a,{onClick:function(){O(!1)},children:"ltr"===c.direction?Object(a.jsx)(te.a,{}):Object(a.jsx)(ae.a,{})})}),Object(a.jsx)(X.a,{}),Object(a.jsx)(f.a,{children:Object(a.jsx)(G.a,{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{to:"/",children:"Home"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{to:"/users",children:"Users"})})]})})]}),Object(a.jsxs)("main",{style:{padding:0,height:"100%",background:"transparent"},className:Object(D.a)(n.content,Object(z.a)({},n.contentShift,j)),children:[Object(a.jsx)("div",{className:n.drawerHeader}),e.children]})]})}function se(){return Object(a.jsx)("h2",{children:"Home"})}function oe(){return Object(a.jsx)("h2",{children:"Users"})}var le=function(){Object(r.useContext)(b).currentUser;return Object(a.jsx)(h.a,{children:Object(a.jsx)(f.a,{container:!0,justify:"center",children:Object(a.jsx)(ce,{children:Object(a.jsxs)(x.d,{children:[Object(a.jsx)(x.b,{path:"/profile",children:Object(a.jsx)(R,{})}),Object(a.jsx)(x.b,{path:"/users",children:Object(a.jsx)(oe,{})}),Object(a.jsx)(x.b,{path:"/",children:Object(a.jsx)(se,{})})]})})})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(O,{children:Object(a.jsx)(le,{})})}),document.getElementById("root")),je()}},[[118,1,2]]]);
//# sourceMappingURL=main.ea003d46.chunk.js.map