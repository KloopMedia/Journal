(this.webpackJsonpjournal=this.webpackJsonpjournal||[]).push([[0],{145:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n.n(a),i=n(16),s=n.n(i),o=(n(145),n(8)),l=n(69);l.a.initializeApp({apiKey:"AIzaSyBfzhQOCtbcUk_tWjPDnjYtHwoouCEkclg",authDomain:"journal-bb5e3.firebaseapp.com",databaseURL:"https://journal-bb5e3.firebaseio.com",projectId:"journal-bb5e3",storageBucket:"journal-bb5e3.appspot.com",messagingSenderId:"918752509407",appId:"1:918752509407:web:77670a68ff906f13e5d86a"});var d=new l.a.auth.GoogleAuthProvider,u=function(){l.a.auth().signInWithPopup(d)},j=l.a,b=c.a.createContext(),O=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],s=c[1],l=Object(a.useState)(!0),d=Object(o.a)(l,2),u=(d[0],d[1]);return Object(a.useEffect)((function(){j.auth().onAuthStateChanged((function(e){s(e),u(!1);var t=j.firestore().collection("users");if(e){var n=t.doc(e.uid);n.get().then((function(t){t&&t.exists||(console.log("Creating user"),n.set({username:e.displayName,email:e.email}))}))}}))}),[]),Object(r.jsx)(b.Provider,{value:{currentUser:i},children:t})},f=n(41),h=n(15),x=n(207),p=n(44),g=n(23),v=n(6),m=n(201),y=n(7),k=n(29),w=n(228),S=n(204),C=n(205),E=n(206),q=n(158),I=n(208),_=n(227),A=n(209),F=n(104),B=n.n(F),N=n(105),P=n.n(N),T=n(106),z=n.n(T),W=n.p+"static/media/kloop_transparent_site.f6fb098e.png",R=220,U=Object(m.a)((function(e){return{root:{display:"flex"},appBar:{background:"white",boxShadow:"none",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(R,"px)"),marginLeft:R,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{color:"gray",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:R,flexShrink:0},drawerPaper:{width:R},drawerHeader:Object(g.a)(Object(g.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-220},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},small:{width:e.spacing(4),height:e.spacing(4)},formControl:{margin:e.spacing(1),minWidth:120}}}));Object(y.a)({root:{justifyContent:"flex-end"}})(_.a);function D(e){var t=Object(a.useContext)(b).currentUser,n=U(),i=Object(k.a)(),s=Object(a.useState)(!1),l=Object(o.a)(s,2),d=l[0],O=l[1],h=Object(a.useState)(!1),g=Object(o.a)(h,2),m=(g[0],g[1],c.a.useState(null)),y=Object(o.a)(m,2),_=y[0],F=(y[1],Boolean(_),Object(a.useState)(!1)),N=Object(o.a)(F,2),T=N[0],R=N[1];Object(a.useEffect)((function(){j.firestore().collection("editors").get().then((function(e){e.forEach((function(e){e.id===t.uid&&(console.log("moderator"),R(!0))}))})).catch((function(){return R(!1)}))}),[t]);return Object(r.jsxs)("div",{className:n.root,children:[Object(r.jsx)(S.a,{}),Object(r.jsx)(C.a,{position:"fixed",className:Object(v.a)(n.appBar,Object(p.a)({},n.appBarShift,d)),children:Object(r.jsxs)(E.a,{style:{paddingLeft:15,paddingRight:15},children:[Object(r.jsx)(q.a,{color:"inherit","aria-label":"open drawer",onClick:function(){O(!0)},edge:"start",className:Object(v.a)(n.menuButton,d&&n.hide),children:Object(r.jsx)(B.a,{})}),Object(r.jsx)(x.a,{container:!0,style:{flexGrow:1},children:Object(r.jsx)("img",{src:W,alt:"Kloop.kg - \u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d\u0430",style:{width:150,height:"auto"}})}),t?Object(r.jsx)("div",{children:Object(r.jsx)(I.a,{style:{borderColor:"black",color:"black",marginLeft:10,fontSize:12},variant:"outlined",size:"small",onClick:function(){return j.auth().signOut()},children:"\u0412\u044b\u0445\u043e\u0434"})}):Object(r.jsx)(I.a,{style:{borderColor:"black",color:"black",marginLeft:10,fontSize:12},size:"small",variant:"outlined",onClick:u,children:"\u0432\u0445\u043e\u0434"})]})}),Object(r.jsxs)(w.a,{className:n.drawer,variant:"persistent",anchor:"left",open:d,classes:{paper:n.drawerPaper},children:[Object(r.jsx)("div",{className:n.drawerHeader,children:Object(r.jsx)(q.a,{onClick:function(){O(!1)},children:"ltr"===i.direction?Object(r.jsx)(P.a,{}):Object(r.jsx)(z.a,{})})}),Object(r.jsx)(A.a,{}),Object(r.jsx)(x.a,{children:Object(r.jsx)(I.a,{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/tasks",children:"\u0417\u0430\u0434\u0430\u043d\u0438\u044f"})}),Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/request",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435"})}),T?Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/tasksObserver",children:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440"})}):null]})})]}),Object(r.jsxs)("main",{style:{padding:0,height:"100%",background:"transparent"},className:Object(v.a)(n.content,Object(p.a)({},n.contentShift,d)),children:[Object(r.jsx)("div",{className:n.drawerHeader}),e.children]})]})}var L=n(217),H=n(222),G=n(90),V=(n(108),n(210)),K=n(214),J=n(212),M=n(213),Q=n(211);function Y(e){return Object(r.jsx)("div",{children:Object(r.jsxs)(V.a,{open:e.state,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(Q.a,{id:"alert-dialog-title",children:e.title}),Object(r.jsx)(J.a,{children:Object(r.jsx)(M.a,{id:"alert-dialog-description",children:e.content})}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(I.a,{onClick:e.handleClose,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(r.jsx)(I.a,{onClick:e.dialogFunction,color:"primary",autoFocus:!0,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})})}var X=n(224),Z=n(215),$=n(216),ee=n(160),te=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(""),l=Object(o.a)(s,2),d=l[0],u=l[1],j=e.returnAnswer;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsx)(ee.a,{const:"fieldset",style:{paddingBottom:15},children:Object(r.jsx)(Z.a,{"aria-label":e.title,name:e.title,value:c,onChange:function(e){i(e.target.value),j({reason:e.target.value,text:d})},children:e.answers.map((function(t,n){return Object(r.jsx)($.a,{value:t,control:Object(r.jsx)(X.a,{color:"primary"}),label:t,disabled:!!e.locked},n)}))})}),Object(r.jsx)(L.a,{id:"feedback_input",label:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",value:d,onChange:function(e){u(e.target.value),j({reason:c,text:e.target.value})},multiline:!0,rows:5,variant:"outlined",fullWidth:!0})]})},ne=Object(m.a)((function(e){return{root:{"& > *":{width:"40ch"}}}}));var re=function(e){ne();var t=c.a.useState(""),n=Object(o.a)(t,2),i=n[0],s=n[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(null),O=Object(o.a)(b,2),f=O[0],h=O[1],x=e.index,p=e.response,g=(e.required,e.locked);return Object(a.useEffect)((function(){p&&s(p)}),[p]),Object(r.jsxs)("div",{children:[Object(r.jsx)(Y,{title:"\u0424\u0438\u0434\u0431\u0435\u043a",content:Object(r.jsx)(te,{answers:["\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445/\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435","\u041d\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438/\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430","\u0414\u0440\u0443\u0433\u043e\u0435"],returnAnswer:h}),dialogFunction:function(){alert(f)},state:u,handleClose:function(){j(!1)}}),Object(r.jsxs)(H.a,{display:"flex",style:{marginBottom:10,marginTop:20},children:[Object(r.jsx)(G.a,{variant:"h6",style:{paddingRight:8},children:e.title}),!1]}),Object(r.jsx)(L.a,{id:"inputBox"+x,label:"\u041c\u043e\u0439 \u043e\u0442\u0432\u0435\u0442",value:i,onChange:function(t){s(t.target.value),e.returnAnswer(t.target.value,e.index)},multiline:!0,rows:5,disabled:g,variant:"outlined",fullWidth:!0})]})},ae=n(163),ce=n(167),ie=Object(m.a)((function(e){return{formControl:{minWidth:120}}}));function se(e){var t=ie(),n=c.a.useState(""),i=Object(o.a)(n,2),s=i[0],l=i[1],d=c.a.useState(!1),u=Object(o.a)(d,2),j=u[0],b=u[1],O=e.index,f=e.response,h=(e.required,e.locked);Object(a.useEffect)((function(){f&&l(f)}),[f]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(G.a,{variant:"h6",style:{marginBottom:5,marginTop:20},children:e.title}),Object(r.jsxs)(ee.a,{className:t.formControl,disabled:h,children:[Object(r.jsx)(ae.a,{id:"controlled-open-select-label",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}),Object(r.jsxs)(ce.a,{labelId:"controlled-open-select-label",id:"select"+O,open:j,onClose:function(e){b(!1)},onOpen:function(e){b(!0)},value:s,onChange:function(t){l(t.target.value);e.answers.indexOf(t.target.value);e.returnAnswer(t.target.value,O)},children:[Object(r.jsx)(_.a,{value:"",children:Object(r.jsx)("em",{children:"None"})}),e.answers.map((function(e,t){return Object(r.jsx)(_.a,{value:e,children:e},t)}))]})]})]})}function oe(e){var t=c.a.useState(""),n=Object(o.a)(t,2),i=n[0],s=n[1],l=e.index,d=e.response;Object(a.useEffect)((function(){d&&s(d)}),[d]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsx)(ee.a,{const:"fieldset",children:Object(r.jsx)(Z.a,{"aria-label":e.title,name:e.title,value:i,onChange:function(t){s(t.target.value);var n=e.answers.indexOf(t.target.value);e.returnAnswer(t.target.value,l,n)},children:e.answers.map((function(t,n){return Object(r.jsx)($.a,{value:t,control:Object(r.jsx)(X.a,{color:"primary"}),label:t,disabled:!!e.locked},n)}))})})]})}var le=Object(m.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"auto"}}}));function de(e){var t=le(),n=c.a.useState(""),i=Object(o.a)(n,2),s=i[0],l=i[1],d=e.index,u=e.response;Object(a.useEffect)((function(){u&&l(u)}),[d,u]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsx)("form",{className:t.container,noValidate:!0,children:Object(r.jsx)(L.a,{id:"time"+d,label:"\u0412\u0440\u0435\u043c\u044f",type:"time",value:s,onChange:function(t){l(t.target.value),e.returnAnswer(t.target.value,d,t.target.value)},className:t.textField,InputLabelProps:{shrink:!0},InputProps:{disableUnderline:!0},disabled:!!e.locked})})]})}var ue=n(164),je=n(161),be=n(225);function Oe(e){var t=c.a.useState({}),n=Object(o.a)(t,2),i=n[0],s=n[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),u=d[0],j=d[1],b=e.index,O=e.answers,f=(e.required,e.response),h=e.locked;Object(a.useEffect)((function(){if(f){s(f);var t={};O.forEach((function(e,n){f[e]?t[e]=f[e]:t[e]=!1})),s(t),e.returnAnswer(t,b)}else{var n={};O.forEach((function(e,t){return n[e]=!1})),e.returnAnswer(n,b)}j(!0),console.log(i)}),[f,O]);var x=function(t){s(Object(g.a)(Object(g.a)({},i),{},Object(p.a)({},t.target.name,t.target.checked))),e.returnAnswer(Object(g.a)(Object(g.a)({},i),{},Object(p.a)({},t.target.name,t.target.checked)),b)};return u?Object(r.jsxs)("div",{children:[Object(r.jsx)(G.a,{variant:"h6",style:{marginBottom:0,marginTop:20},children:e.title}),Object(r.jsxs)(ee.a,{component:"fieldset",disabled:h,children:[Object(r.jsx)(ue.a,{component:"legend",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"}),Object(r.jsx)(je.a,{children:O.map((function(e,t){return Object(r.jsx)($.a,{control:Object(r.jsx)(be.a,{checked:i[e],onChange:x,name:e}),label:e},t)}))})]})]}):null}var fe=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)({}),s=Object(o.a)(i,2),l=s[0],d=s[1],O=Object(a.useState)([]),f=Object(o.a)(O,2),p=f[0],v=f[1],m=Object(a.useState)(!1),y=Object(o.a)(m,2),k=y[0],w=y[1],S=Object(a.useState)(!1),C=Object(o.a)(S,2),E=C[0],q=C[1],_=Object(a.useState)({}),A=Object(o.a)(_,2),F=(A[0],A[1]),B=Object(a.useContext)(b).currentUser;Object(a.useEffect)((function(){var e={};B&&j.firestore().collection("users").doc(B.uid).get().then((function(t){F(t.data()),e=t.data()})).then((function(){j.firestore().collection("profileTemplate").doc("Template").get().then((function(t){console.log(JSON.stringify(t.data())),c(t.data().questions),console.log(t.data().questions);var n=t.data().questions.map((function(t,n){var a=null;return e[t.key]&&(console.log(e[t.key]),a=e[t.key]),"input"===t.type?Object(r.jsx)(re,{index:n,title:t.question,response:a,returnAnswer:N,required:t.required},"profile_"+n):"select"===t.type?Object(r.jsx)(se,{index:n,title:t.question,response:a,answers:t.answers,returnAnswer:N,required:t.required},"profile_"+n):"radio"===t.type?Object(r.jsx)(oe,{index:n,title:t.question,response:a,answers:t.answers,returnAnswer:N,required:t.required},"profile_"+n):"time"===t.type?Object(r.jsx)(de,{index:n,title:t.question,response:a,returnAnswer:N,required:t.required},"profile_"+n):"checkbox"===t.type?Object(r.jsx)(Oe,{index:n,title:t.question,response:a,answers:t.answers,returnAnswer:N,required:t.required},"profile_"+n):null}));v(n)}))}))}),[B]);var N=function(e,t){var n=l;n[t]=e,d(n),console.log(l)};return B?Object(r.jsxs)(x.a,{style:{padding:30},children:[E&&Object(r.jsx)(h.a,{to:"/"}),p,Object(r.jsxs)(x.a,{container:!0,style:{padding:20},justify:"center",children:[Object(r.jsx)(I.a,{variant:"outlined",style:{borderWidth:2,borderColor:"#003366",color:"#003366",margin:10},onClick:function(){var e={};n.forEach((function(t,n){l[n]&&(e[t.key]=l[n])})),j.firestore().collection("users").doc(B.uid).update(Object(g.a)({},e)).then((function(){return w(!0)}))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),k&&Object(r.jsx)(I.a,{variant:"outlined",style:{borderWidth:2,borderColor:"red",color:"red",margin:10},onClick:function(){return q(!0)},children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})]}):Object(r.jsxs)(x.a,{container:!0,direction:"column",style:{padding:20},justify:"center",children:[Object(r.jsx)(G.a,{align:"center",variant:"h3",children:"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"}),Object(r.jsx)("br",{}),Object(r.jsx)(I.a,{variant:"contained",onClick:u,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 Google"})]})},he=n(219),xe=n(221),pe=n(220),ge=Object(m.a)({root:{minWidth:250},bullet:{display:"inline-block",margin:"0 2px"},title:{fontSize:14},pos:{marginBottom:12}}),ve=function(e){var t=ge(),n=e.title,c=(e.status,e.type),i=(e.language,e.description),s=e.id,l=e.cardColor,d=e.sendRequest,u=e.disabled,j=Object(a.useState)(!1),b=Object(o.a)(j,2),O=b[0],f=b[1];return Object(r.jsxs)("div",{children:[O&&Object(r.jsx)(h.a,{to:"/tasks/"+s}),Object(r.jsxs)(he.a,{className:t.root,style:{background:l},children:[Object(r.jsxs)(pe.a,{children:[Object(r.jsx)(G.a,{variant:"h6",children:n}),Object(r.jsxs)(G.a,{variant:"subtitle1",className:t.pos,color:"textSecondary",children:["#",c]}),Object(r.jsxs)(G.a,{variant:"body2",component:"p",children:["\u0417\u0430\u0434\u0430\u043d\u0438\u0435: ",i]})]}),Object(r.jsx)(xe.a,{children:d?Object(r.jsx)(I.a,{variant:"contained",disabled:u,color:"primary",size:"small",onClick:function(){return d(c,s)},children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435"}):Object(r.jsx)(I.a,{size:"small",onClick:function(){return f(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})]})},me=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useContext)(b).currentUser;return Object(a.useEffect)((function(){if(s){var e=[];console.log("Fired"),j.firestore().collection("tasks").where("assigned_users","array-contains",s.uid).get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data()),e.push({id:t.id,data:t.data()})}))})).then((function(){i(e)})).catch((function(e){console.log("Error getting documents: ",e)}))}}),[s]),Object(r.jsxs)(x.a,{container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(r.jsx)(G.a,{variant:"h4",children:"\u0417\u0430\u0434\u0430\u043d\u0438\u044f"}),c&&c.map((function(e,t){return Object(r.jsx)(x.a,{style:{padding:10},children:Object(r.jsx)(ve,{title:e.data.title,description:e.data.description,type:e.data.type,id:e.id})},t)}))]})},ye=n(19),ke=n.n(ye),we=n(28);var Se=function(e){var t=e.title;return Object(r.jsx)("div",{children:Object(r.jsx)(G.a,{variant:"h6",style:{marginBottom:0,marginTop:20},children:t})})},Ce=function(e){var t=e.question,n=e.index,a=e.response,c=e.returnAnswer,i=e.locked,s=e.askFeedback;return"input"===t.type?Object(r.jsx)(re,{index:n,title:t.title,response:a,returnAnswer:c,required:t.required,locked:i,askFeedback:s},n):"select"===t.type?Object(r.jsx)(se,{index:n,title:t.title,response:a,answers:t.answers,returnAnswer:c,required:t.required,locked:i},n):"radio"===t.type?Object(r.jsx)(oe,{index:n,title:t.title,response:a,answers:t.answers,returnAnswer:c,required:t.required,locked:i},n):"time"===t.type?Object(r.jsx)(de,{index:n,title:t.title,response:a,returnAnswer:c,required:t.required,locked:i},n):"checkbox"===t.type?Object(r.jsx)(Oe,{index:n,title:t.title,response:a,answers:t.answers,returnAnswer:c,required:t.required,locked:i},n):"text"===t.type?Object(r.jsx)(Se,{title:t.title},n):null};function Ee(e){return Object(r.jsx)("div",{children:Object(r.jsxs)(V.a,{open:e.state,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(Q.a,{id:"alert-dialog-title",children:e.title}),Object(r.jsx)(J.a,{children:Object(r.jsxs)(M.a,{id:"alert-dialog-description",children:[Object(r.jsx)(G.a,{children:e.description}),Object(r.jsx)(te,{answers:e.answers,returnAnswer:e.returnFeedback})]})}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(I.a,{onClick:e.handleClose,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(r.jsx)(I.a,{onClick:e.dialogFunction,disabled:!e.feedbackValue.reason,color:"primary",autoFocus:!0,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})})}var qe=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),s=Object(o.a)(i,2),l=(s[0],s[1]),d=Object(a.useState)({}),O=Object(o.a)(d,2),f=O[0],p=O[1],v=Object(a.useState)([]),m=Object(o.a)(v,2),y=m[0],k=m[1],w=Object(a.useState)(!1),S=Object(o.a)(w,2),C=(S[0],S[1]),E=Object(a.useState)(!1),q=Object(o.a)(E,2),_=q[0],A=q[1],F=Object(a.useState)({}),B=Object(o.a)(F,2),N=(B[0],B[1],Object(a.useState)(!1)),P=Object(o.a)(N,2),T=P[0],z=P[1],W=Object(a.useState)([]),R=Object(o.a)(W,2),U=(R[0],R[1]),D=Object(a.useState)(!1),L=Object(o.a)(D,2),H=L[0],V=L[1],K=Object(a.useState)(null),J=Object(o.a)(K,2),M=J[0],Q=J[1],Y=Object(a.useState)({}),X=Object(o.a)(Y,2),Z=X[0],$=X[1],ee=Object(a.useState)({}),te=Object(o.a)(ee,2),ne=te[0],re=te[1],ae=Object(a.useContext)(b).currentUser,ce=Object(h.g)().id;Object(a.useEffect)((function(){var e=function(){var e=Object(we.a)(ke.a.mark((function e(t){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,j.firestore().collection("tasks").doc(t).collection("questions").get().then((function(e){e.forEach((function(e){n.push({questionId:e.id,data:e.data()})}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(we.a)(ke.a.mark((function e(t){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,j.firestore().collection("tasks").doc(t).collection("responses").get().then((function(e){e.forEach((function(e){n.push({responseId:e.id,data:e.data()})}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(we.a)(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,j.firestore().collection("tasks").doc(ce).get().then((function(e){return e.data()})).then(function(){var e=Object(we.a)(ke.a.mark((function e(n){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.firestore().collection("tasks").where("case_id","==",n.case_id).get().then((function(e){e.forEach((function(e){e.id!==ce&&(console.log(e.id,"=>",e.data()),t.push(Object(g.a)({id:e.id},e.data())))}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ae&&function(){var a=Object(we.a)(ke.a.mark((function a(){var i,s,o,d,u,b,O,f,h;return ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=[],s=!0,k(null),console.log("Fired"),a.next=6,j.firestore().collection("tasks").doc(ce).collection("user_editable").doc("user_editable").get().then((function(e){"complete"===e.data().status?(s=!0,z(!0)):s=!1}));case 6:return o=[],d=[],a.next=10,n();case 10:if(u=a.sent,U(u),!(u.length>0)){a.next=19;break}return a.next=15,e(u[0].id);case 15:return o=a.sent,a.next=18,t(u[0].id);case 18:d=a.sent;case 19:return(b=o.map((function(e,t){var n=null;return d.forEach((function(r){e.questionId===r.responseId&&(n=r.data.answer,ie(r.data.answer,t),console.log(r.data))})),Object(r.jsx)(Ce,{question:e.data,index:t,response:n,returnAnswer:ie,locked:!0,askFeedback:!0},e.questionId+"_"+t)}))).push(Object(r.jsx)("div",{style:{height:25,margin:"20px 0",background:"repeating-linear-gradient( 45deg, white, white 10px, grey 10px, grey 25px)"},children:Object(r.jsx)("br",{})},"div_divider_stripped")),a.next=23,e(ce);case 23:return O=a.sent,a.next=26,t(ce);case 26:f=a.sent,c(O),l(f),i=O.map((function(e,t){var n=null;return f.forEach((function(r){e.questionId===r.responseId&&(n=r.data.answer,ie(r.data.answer,t),console.log(r.data))})),Object(r.jsx)(Ce,{question:e.data,index:t,response:n,returnAnswer:ie,locked:s},e.questionId+"_"+t)})),h=b.concat(i),k(h);case 32:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()}),[ae,ce,T]);var ie=function(e,t){var n=f;n[t]=e,p(n)},se=function(){var e=Object(we.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.forEach(function(){var e=Object(we.a)(ke.a.mark((function e(t,n){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),console.log(f[n]),!f[n]&&""!==f[n]){e.next=5;break}return e.next=5,j.firestore().collection("tasks").doc(ce).collection("responses").doc(t.questionId).set({answer:f[n]});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:if(!t){e.next=7;break}return e.next=5,j.firestore().collection("tasks").doc(ce).collection("user_editable").doc("user_editable").update({status:"complete"});case 5:z(!0),V(!1);case 7:C(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){V(!1),$({})},le=function(e){"send"===e&&(Q("send"),V(!0)),"release"===e&&(Q("release"),V(!0))};Object(a.useEffect)((function(){j.firestore().collection("schema").doc("structure").collection("feedbacks").doc("release").get().then((function(e){console.log("FEEDBACK",e.data()),re(e.data())}))}),[]);return ae?Object(r.jsxs)(x.a,{style:{padding:30},children:["send"===M&&Object(r.jsx)(Ee,{state:H,handleClose:oe,title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435?",content:"\u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435. \u042d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u0432\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b.",dialogFunction:function(){return se(!0)}}),"release"===M&&Object(r.jsx)(Ee,{state:H,feedbackValue:Z,handleClose:oe,title:ne.title,dialogFunction:function(){j.firestore().collection("tasks").doc(ce).collection("user_editable").doc("user_editable").update({status:"open"}).then((function(){return j.firestore().collection("tasks").doc(ce).collection("user_editable").doc("user_editable").update({status:"released",release_status:Z.reason,release_description:Z.text}).then((function(){V(!1),z(!0)}))}))},answers:ne.answers,description:ne.description,returnFeedback:function(e){$(e)}}),_&&Object(r.jsx)(h.a,{to:"/tasks"}),y,Object(r.jsxs)(x.a,{container:!0,style:{padding:20},justify:"center",children:[Object(r.jsx)(I.a,{variant:"outlined",style:{borderWidth:2,borderColor:"grey",color:"grey",margin:5},onClick:function(){return A(!0)},children:"\u041d\u0430\u0437\u0430\u0434"}),!T&&Object(r.jsxs)("div",{children:[Object(r.jsx)(I.a,{variant:"outlined",disabled:T,style:{borderWidth:2,borderColor:"#003366",color:"#003366",margin:5},onClick:function(){return se(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(r.jsx)(I.a,{variant:"outlined",disabled:T,style:{borderWidth:2,borderColor:"red",color:"red",margin:5},onClick:function(){return le("send")},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(r.jsx)(I.a,{variant:"outlined",disabled:T,style:{borderWidth:2,borderColor:"red",color:"red",margin:5},onClick:function(){return le("release")},children:"\u041e\u0441\u0432\u043e\u0431\u043e\u0434\u0438\u0442\u044c"})]})]})]}):Object(r.jsxs)(x.a,{container:!0,direction:"column",style:{padding:20},justify:"center",children:[Object(r.jsx)(G.a,{align:"center",variant:"h3",children:"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"}),Object(r.jsx)("br",{}),Object(r.jsx)(I.a,{variant:"contained",onClick:u,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 Google"})]})},Ie=n(89),_e=n(226),Ae=n(109),Fe=n.n(Ae),Be=n(86),Ne=function(e){var t=e.caseId,n=Object(a.useState)(null),i=Object(o.a)(n,2),s=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(o.a)(d,2),O=u[0],f=u[1],h=Object(a.useContext)(b).currentUser,p=c.a.useState(!1),v=Object(o.a)(p,2),m=v[0],y=v[1],k=Object(a.useState)(!1),w=Object(o.a)(k,2),S=w[0],C=w[1],E=Object(a.useState)(""),I=Object(o.a)(E,2),_=I[0],A=I[1],F=function(e,t){"clickaway"!==t&&y(!1)};Object(a.useEffect)((function(){if(h){var e=[];console.log("Fired"),j.firestore().collection("schema").doc("structure").collection("cases").doc(t).collection("stages").get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data()),e.push(Object(g.a)({id:t.id},t.data()))}))})).then((function(){e.sort((function(e,t){return parseInt(e.order)-parseInt(t.order)})),l(e),f(!0)})).catch((function(e){console.log("Error getting documents: ",e)}))}}),[h]),Object(a.useEffect)((function(){j.firestore().collection("tasks").where("assigned_users","array-contains",h.uid).where("is_complete","==",!1).get().then((function(e){e.empty?C(!1):(C(!0),A("\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f. \u0421\u0434\u0430\u0439\u0442\u0435 \u0438\u043b\u0438 \u043e\u0441\u0432\u043e\u0431\u043e\u0434\u0438\u0442\u0435 \u0438\u0445, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435."))}))}),[h,S]);var B=function(e,n){j.firestore().collection("task_requests").doc(h.uid).collection("requests").add({taskType:e,status:"pending",user:h.uid,case_type:t,case_stage_id:n}).then((function(e){y(!0),console.log("sending request")}))};return Object(r.jsxs)("div",{children:[Object(r.jsx)(_e.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:m,autoHideDuration:6e3,onClose:F,message:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d",action:Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)(q.a,{size:"small","aria-label":"close",color:"inherit",onClick:F,children:Object(r.jsx)(Fe.a,{fontSize:"small"})})})}),Object(r.jsxs)(Ie.a,{style:{margin:"20px 5px",border:"1px grey solid"},children:[Object(r.jsxs)(H.a,{style:{padding:"10px 20px 0px"},children:[Object(r.jsx)(H.a,{style:{padding:"5px 10px 10px"},children:Object(r.jsx)(G.a,{variant:"h6",children:e.title})}),Object(r.jsx)(H.a,{style:{padding:"10px 10px 5px"},children:Object(r.jsx)(G.a,{variant:"body2",children:e.description})}),Object(r.jsx)(H.a,{style:{padding:"10px 10px 0px"},children:Object(r.jsx)(G.a,{color:"error",children:_})})]}),Object(r.jsx)(x.a,{container:!0,justify:"center",style:{padding:10},children:O&&s.map((function(e,t){return Object(r.jsx)(x.a,{item:!0,style:{padding:10},children:Object(r.jsx)(ve,{title:e.title,description:e.description,type:e.type,id:e.id,cardColor:"#F5F5F5",sendRequest:B,disabled:S})},t)}))})]})]})},Pe=function(){var e=Object(a.useContext)(b).currentUser,t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(!1),l=Object(o.a)(s,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){if(e){var t=[];console.log("Fired"),j.firestore().collection("schema").doc("structure").collection("cases").get().then((function(e){e.forEach((function(e){console.log(e.id," => ",e.data()),t.push(Object(g.a)({id:e.id},e.data()))}))})).then((function(){i(t),u(!0),console.log(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}}),[e]),Object(r.jsx)("div",{children:d&&c.map((function(e,t){return Object(r.jsx)(Ne,{title:e.title,description:e.description,caseId:e.id},t)}))})},Te=Object(m.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function ze(e){var t=Te();return console.log("TEST CARD"),console.log(e),e.userInfo=={}?Object(r.jsx)("div",{}):Object(r.jsx)(he.a,{className:t.root,variant:"outlined",children:Object(r.jsxs)(pe.a,{children:[Object(r.jsxs)(G.a,{className:t.title,color:"textSecondary",gutterBottom:!0,children:["id: ",e.userInfo.id]}),Object(r.jsxs)(G.a,{variant:"h5",component:"h2",children:[e.userInfo.surname," ",e.userInfo.name]}),Object(r.jsxs)(G.a,{className:t.pos,color:"textSecondary",children:["\u0420\u0435\u0433\u0438\u043e\u043d: ",e.userInfo.district]}),Object(r.jsx)(G.a,{variant:"body2",component:"p",children:e.userInfo.phone}),Object(r.jsx)(G.a,{variant:"body2",component:"p",children:e.userInfo.email})]})})}var We=function(e){var t=c.a.useState([]),n=Object(o.a)(t,2),i=(n[0],n[1],Object(a.useState)({})),s=Object(o.a)(i,2),l=s[0],d=s[1],u={},b=Object(a.useState)([]),O=Object(o.a)(b,2),f=(O[0],O[1]),h=Object(a.useState)([]),p=Object(o.a)(h,2),g=(p[0],p[1]),v=Object(a.useState)({}),m=Object(o.a)(v,2),y=m[0],k=m[1],w=Object(a.useState)(Object(r.jsx)("div",{})),S=Object(o.a)(w,2),C=S[0],E=S[1],q=Object(a.useState)(!1),_=Object(o.a)(q,2),A=_[0],F=_[1],B=Object(a.useState)(!1),N=Object(o.a)(B,2),P=N[0],T=N[1],z=Object(a.useState)(!1),W=Object(o.a)(z,2),R=W[0],U=W[1],D=Object(a.useState)(!1),L=Object(o.a)(D,2),H=L[0],G=L[1],V=Object(a.useState)(!1),K=Object(o.a)(V,2),J=K[0],M=K[1],Q=function(){var t=Object(we.a)(ke.a.mark((function t(){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j.firestore().collection("tasks").doc(e.task.id).get().then((function(e){var t=e.data().review_status;F("pending"===t),T("passed"===t),U("not passed"===t),G("verified"===t),M("not verified"===t)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var t=function(){var t=Object(we.a)(ke.a.mark((function t(){var n,a,c,i;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],a=[],c=[],i=!0,console.log("HOOK"),Q(),t.next=8,j.firestore().collection("tasks").doc(e.task.id).get().then((function(e){d(e.data())})).catch((function(e){console.log("Error getting documents: ",e)}));case 8:return t.next=10,j.firestore().collection("tasks").doc(e.task.id).collection("questions").get().then((function(e){e.forEach((function(e){n.push({questionId:e.id,data:e.data()})}))})).then((function(){f(n)})).catch((function(e){console.log("Error getting documents: ",e)}));case 10:return t.next=12,j.firestore().collection("tasks").doc(e.task.id).collection("responses").get().then((function(e){e.forEach((function(e){a.push({responseId:e.id,data:e.data()})}))})).then((function(){g(a)})).catch((function(e){console.log("Error getting documents: ",e)}));case 12:E(Object(r.jsx)("div",{})),c=n.map((function(e,t){var n=null;return a.forEach((function(r){e.questionId===r.responseId&&(n=r.data.answer,Y(r.data.answer,t))})),Object(r.jsx)(Ce,{question:e.data,index:t,response:n,returnAnswer:Y,locked:i},t)})),E(c);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.task.id&&t()}),[e.task.id]);var Y=function(e,t){var n=y;n[t]=e,k(n)},X=function(){var t=Object(we.a)(ke.a.mark((function t(n){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.firestore().collection("tasks").doc(e.task.id).update({review_status:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return function(){if(void 0!==l.assigned_users&&l.assigned_users.length>0){var t=e.users.find((function(e){return e.id===l.assigned_users[0]}));u=void 0!==t?t:{}}}(),Object(r.jsxs)(x.a,{style:{padding:30},children:[Object(r.jsxs)(x.a,{container:!0,style:{padding:20},justify:"center",children:[Object(r.jsx)(I.a,{variant:"contained",color:A?"secondary":"{}",onClick:function(){X("pending"),Q()},children:"PENDING"}),Object(r.jsx)(I.a,{variant:"contained",color:P?"secondary":"{}",onClick:function(){X("passed"),Q()},children:"PASSED"}),Object(r.jsx)(I.a,{variant:"contained",color:R?"secondary":"{}",onClick:function(){X("not passed"),Q()},children:"NOT PASSED"}),Object(r.jsx)(I.a,{variant:"contained",color:H?"secondary":"{}",onClick:function(){X("verified"),Q()},children:"VERIFIED"}),Object(r.jsx)(I.a,{variant:"contained",color:J?"secondary":"{}",onClick:function(){X("not verified"),Q()},children:"NOT VERIFIED"})]}),Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsx)(ze,{userInfo:u,children:" "})}),C]})},Re=n(223),Ue=function(e){var t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(1),l=Object(o.a)(s,2),d=l[0],u=(l[1],Object(a.useState)([])),j=Object(o.a)(u,2),b=j[0],O=j[1],f=function(e,t,n){var r=Object(Be.a)(n),a=Math.floor(r.size/t);console.log("numberOfPages",a);var c=e*t,i=r.size;return e!==a-1&&(i=(e+1)*t),console.log("Start",c),console.log("End",i),n.slice(c,i)};Object(a.useEffect)((function(){i(0),O(f(0,1,e.data))}),[e.data]);var h=e.data.length>0&&Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsx)(Re.a,{justify:"center",component:"div",count:e.data.length,page:c,onChangePage:function(t,n){O(f(n,d,e.data)),i(n)},rowsPerPage:d,onChangeRowsPerPage:function(e){},labelRowsPerPage:"\u041f\u043e \u043e\u0434\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!"})}),p=void 0!==b[0];return Object(r.jsxs)("div",{children:[h,Object(r.jsx)(x.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(x.a,{container:!0,justify:"center",direction:"column",spacing:1,children:p?Object(r.jsx)(x.a,{item:!0,children:Object(r.jsx)(We,{task:b[0],users:e.users})}):"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b!"})})}),h]})},De=n(107),Le=n(165),He=n(110),Ge=n.n(He),Ve=function(e){var t=["\u0412\u0421\u0415","\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445","interview"],n=["\u0412\u0421\u0415","\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u2116 1.1","\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u2116 1.2","\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u2116 1.3","\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u2116 2.1"],i=["\u0412\u0421\u0415","pending","passed","not passed","verified","not verified"],s=c.a.useState([]),l=Object(o.a)(s,2),d=l[0],u=l[1],b=c.a.useState("\u0412\u0421\u0415"),O=Object(o.a)(b,2),f=O[0],h=O[1],p=c.a.useState([]),v=Object(o.a)(p,2),m=v[0],y=v[1],k=c.a.useState(t[0]),w=Object(o.a)(k,2),S=w[0],C=w[1],E=c.a.useState(n[0]),q=Object(o.a)(E,2),_=q[0],A=q[1],F=c.a.useState(i[0]),B=Object(o.a)(F,2),N=B[0],P=B[1],T=function(){var e=Object(we.a)(ke.a.mark((function e(){var t,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:"\u0412\u0421\u0415",name:"\u0412\u0421\u0415",surname:""}],n=j.firestore().collection("users").orderBy("surname"),e.next=4,n.get().then((function(e){e.forEach((function(e){t.push(Object(g.a)({id:e.id},e.data()))})),y(t)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(we.a)(ke.a.mark((function e(){var t,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=j.firestore().collection("tasks"),"\u0412\u0421\u0415"!=f&&(n=n.where("assigned_users","array-contains",f)),"\u0412\u0421\u0415"!=_&&(n=n.where("title","==",_)),"\u0412\u0421\u0415"!=S&&(n=n.where("type","==",S)),"\u0412\u0421\u0415"!=N&&(n=n.where("review_status","==",N)),e.next=8,n.get().then((function(e){e.forEach((function(e){t.push(Object(g.a)({id:e.id},e.data()))})),u(t)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){T()}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsxs)(ee.a,{style:{width:"350px"},children:[Object(r.jsx)(De.a,{value:f.value,onChange:function(e){h(e.target.value)},name:"filterUser",children:m.map((function(e){return Object(r.jsxs)("option",{value:e.id,children:[" ",e.surname," ",e.name]})}))}),Object(r.jsx)(Le.a,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440 \u043f\u043e users"})]})}),Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsxs)(ee.a,{style:{width:"350px"},children:[Object(r.jsx)(De.a,{value:_,onChange:function(e){A(e.target.value)},name:"filterTaskTitle",children:n.map((function(e){return Object(r.jsx)("option",{value:e,children:e})}))}),Object(r.jsx)(Le.a,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044e \u0437\u0430\u0434\u0430\u0447\u0438"})]})}),Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsxs)(ee.a,{style:{width:"350px"},children:[Object(r.jsx)(De.a,{value:S,onChange:function(e){C(e.target.value)},name:"filterTaskType",children:t.map((function(e){return Object(r.jsx)("option",{value:e,children:e})}))}),Object(r.jsx)(Le.a,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0442\u0438\u043f\u0443 \u0437\u0430\u0434\u0430\u0447\u0438"})]})}),Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsxs)(ee.a,{style:{width:"350px"},children:[Object(r.jsx)(De.a,{value:N,onChange:function(e){P(e.target.value)},name:"filterReviewStatus",children:i.map((function(e){return Object(r.jsx)("option",{value:e,children:e})}))}),Object(r.jsx)(Le.a,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440 \u043f\u043e review_status"})]})}),Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsx)(I.a,{style:{width:"350px"},type:"number",variant:"contained",onClick:function(e){z()},color:"primary",startIcon:Object(r.jsx)(Ge.a,{}),children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})}),Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsx)(Ue,{data:d,users:m})})]})};function Ke(){return Object(r.jsx)("h2",{children:"Home"})}var Je=function(){Object(a.useContext)(b).currentUser;return Object(r.jsx)(f.a,{children:Object(r.jsx)(x.a,{container:!0,justify:"center",children:Object(r.jsx)(D,{children:Object(r.jsxs)(h.d,{children:[Object(r.jsx)(h.b,{exact:!0,path:"/profile",children:Object(r.jsx)(fe,{})}),Object(r.jsx)(h.b,{exact:!0,path:"/request",children:Object(r.jsx)(Pe,{})}),Object(r.jsx)(h.b,{exact:!0,path:"/tasks",children:Object(r.jsx)(me,{})}),Object(r.jsx)(h.b,{path:"/tasks/:id",children:Object(r.jsx)(qe,{})}),Object(r.jsx)(h.b,{exact:!0,path:"/tasksObserver",children:Object(r.jsx)(Ve,{})}),Object(r.jsx)(h.b,{exact:!0,path:"/",children:Object(r.jsx)(Ke,{})})]})})})})},Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(O,{children:Object(r.jsx)(Je,{})})}),document.getElementById("root")),Me()}},[[156,1,2]]]);
//# sourceMappingURL=main.19f1b387.chunk.js.map