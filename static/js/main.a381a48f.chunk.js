(this.webpackJsonpjournal=this.webpackJsonpjournal||[]).push([[0],{108:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(1),i=n.n(a),c=n(13),s=n.n(c),o=(n(108),n(16)),l=n(56);l.a.initializeApp({apiKey:"AIzaSyBfzhQOCtbcUk_tWjPDnjYtHwoouCEkclg",authDomain:"journal-bb5e3.firebaseapp.com",databaseURL:"https://journal-bb5e3.firebaseio.com",projectId:"journal-bb5e3",storageBucket:"journal-bb5e3.appspot.com",messagingSenderId:"918752509407",appId:"1:918752509407:web:77670a68ff906f13e5d86a"});var j=new l.a.auth.GoogleAuthProvider,d=function(){l.a.auth().signInWithPopup(j)},u=l.a,b=i.a.createContext(),O=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(o.a)(n,2),c=i[0],s=i[1],l=Object(a.useState)(!0),j=Object(o.a)(l,2),d=(j[0],j[1]);return Object(a.useEffect)((function(){u.auth().onAuthStateChanged((function(e){s(e),d(!1);var t=u.firestore().collection("users");if(e){var n=t.doc(e.uid);n.get().then((function(t){t&&t.exists||(console.log("Creating user"),n.set({username:e.displayName,email:e.email}))}))}}))}),[]),Object(r.jsx)(b.Provider,{value:{currentUser:c},children:t})},h=n(51),x=n(18),f=n(171),p=n(33),g=n(161),m=n(183),v=n(119),w=Object(g.a)((function(e){return{root:{"& > *":{width:"40ch"}}}}));var y=function(e){var t=w(),n=i.a.useState(""),c=Object(o.a)(n,2),s=c[0],l=c[1],j=e.index,d=e.response;return e.required,Object(a.useEffect)((function(){d&&l(d)}),[d]),Object(r.jsxs)("div",{children:[Object(r.jsx)(v.a,{variant:"h6",style:{marginBottom:0,marginTop:20},children:e.title}),Object(r.jsx)(m.a,{className:t.root,id:"inputBox"+j,label:"\u041c\u043e\u0439 \u043e\u0442\u0432\u0435\u0442",value:s,onChange:function(t){l(t.target.value),e.returnAnswer(t.target.value,e.index)},disabled:!!e.locked})]})},C=n(168),S=n(182),k=n(167),q=n(177),A=Object(g.a)((function(e){return{formControl:{minWidth:120}}}));function B(e){var t=A(),n=i.a.useState(""),c=Object(o.a)(n,2),s=c[0],l=c[1],j=i.a.useState(!1),d=Object(o.a)(j,2),u=d[0],b=d[1],O=e.index,h=e.response;e.required;Object(a.useEffect)((function(){h&&l(h)}),[h]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(v.a,{variant:"h6",style:{marginBottom:5,marginTop:20},children:e.title}),Object(r.jsxs)(k.a,{className:t.formControl,disabled:!!e.locked,children:[Object(r.jsx)(C.a,{id:"controlled-open-select-label",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}),Object(r.jsxs)(q.a,{labelId:"controlled-open-select-label",id:"select"+O,open:u,onClose:function(e){b(!1)},onOpen:function(e){b(!0)},value:s,onChange:function(t){l(t.target.value);var n=e.answers.indexOf(t.target.value);e.returnAnswer(n,O)},children:[Object(r.jsx)(S.a,{value:"",children:Object(r.jsx)("em",{children:"None"})}),e.answers.map((function(e,t){return Object(r.jsx)(S.a,{value:e,children:e},t)}))]})]})]})}var N=n(179),I=n(185),L=n(170);function P(e){var t=i.a.useState(""),n=Object(o.a)(t,2),c=n[0],s=n[1],l=e.index,j=e.response;Object(a.useEffect)((function(){j&&s(j)}),[j]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsx)(k.a,{const:"fieldset",children:Object(r.jsx)(I.a,{"aria-label":e.title,name:e.title,value:c,onChange:function(t){s(t.target.value);var n=e.answers.indexOf(t.target.value);e.returnAnswer(t.target.value,l,n)},children:e.answers.map((function(t,n){return Object(r.jsx)(L.a,{value:t,control:Object(r.jsx)(N.a,{color:"primary"}),label:t,disabled:!!e.locked},n)}))})})]})}var E=Object(g.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"auto"}}}));function U(e){var t=E(),n=i.a.useState(""),c=Object(o.a)(n,2),s=c[0],l=c[1],j=e.index,d=e.response;Object(a.useEffect)((function(){d&&l(d)}),[j,d]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsx)("form",{className:t.container,noValidate:!0,children:Object(r.jsx)(m.a,{id:"time"+j,label:"\u0412\u0440\u0435\u043c\u044f",type:"time",value:s,onChange:function(t){l(t.target.value),e.returnAnswer(t.target.value,j,t.target.value)},className:t.textField,InputLabelProps:{shrink:!0},InputProps:{disableUnderline:!0},disabled:!!e.locked})})]})}var z=n(37),T=n(120),W=n(169),F=n(181);function H(e){var t=i.a.useState({}),n=Object(o.a)(t,2),a=n[0],c=n[1],s=e.index,l=e.answers,j=(e.required,function(t){c(Object(p.a)(Object(p.a)({},a),{},Object(z.a)({},t.target.name,t.target.checked))),e.returnAnswer(Object(p.a)(Object(p.a)({},a),{},Object(z.a)({},t.target.name,t.target.checked)),s)});return Object(r.jsxs)("div",{children:[Object(r.jsx)(v.a,{variant:"h6",style:{marginBottom:0,marginTop:20},children:e.title}),Object(r.jsxs)(k.a,{component:"fieldset",children:[Object(r.jsx)(T.a,{component:"legend",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"}),Object(r.jsx)(W.a,{children:l.map((function(e,t){return Object(r.jsx)(L.a,{control:Object(r.jsx)(F.a,{onChange:j,name:e}),label:e},t)}))})]})]})}var G=n(172),D=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)({}),s=Object(o.a)(c,2),l=s[0],j=s[1],O=Object(a.useState)([]),h=Object(o.a)(O,2),g=h[0],m=h[1],w=Object(a.useState)(!1),C=Object(o.a)(w,2),S=C[0],k=C[1],q=Object(a.useState)(!1),A=Object(o.a)(q,2),N=A[0],I=A[1],L=Object(a.useContext)(b).currentUser;Object(a.useEffect)((function(){u.firestore().collection("profileTemplate").doc("Template").get().then((function(e){i(e.data().questions),console.log(e.data().questions);var t=e.data().questions.map((function(e,t){return"input"===e.type?Object(r.jsx)(y,{index:t,title:e.question,returnAnswer:E,required:e.required},t):"select"===e.type?Object(r.jsx)(B,{index:t,title:e.question,answers:e.answers,returnAnswer:E,required:e.required},t):"radio"===e.type?Object(r.jsx)(P,{index:t,title:e.question,answers:e.answers,returnAnswer:E,required:e.required},t):"time"===e.type?Object(r.jsx)(U,{index:t,title:e.question,returnAnswer:E,required:e.required},t):"checkbox"===e.type?Object(r.jsx)(H,{index:t,title:e.question,answers:e.answers,returnAnswer:E,required:e.required},t):null}));m(t)}))}),[]);var E=function(e,t){var n=l;n[t]=e,j(n)};return L?Object(r.jsxs)("div",{children:[N&&Object(r.jsx)(x.a,{to:"/"}),g,Object(r.jsxs)(f.a,{container:!0,style:{padding:20},justify:"center",children:[Object(r.jsx)(G.a,{variant:"outlined",style:{borderWidth:2,borderColor:"#003366",color:"#003366",margin:10},onClick:function(){var e={};n.forEach((function(t,n){l[n]&&(e[t.key]=l[n])})),u.firestore().collection("users").doc(L.uid).update(Object(p.a)({profileAnswers:l},e)).then((function(){return k(!0)}))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),S&&Object(r.jsx)(G.a,{variant:"outlined",style:{borderWidth:2,borderColor:"red",color:"red",margin:10},onClick:function(){return I(!0)},children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})]}):Object(r.jsxs)(f.a,{container:!0,direction:"column",style:{padding:20},justify:"center",children:[Object(r.jsx)(v.a,{align:"center",variant:"h3",children:"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"}),Object(r.jsx)("br",{}),Object(r.jsx)(G.a,{variant:"contained",onClick:d,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 Google"})]})},R=n(6),_=n(7),J=n(25),K=n(180),M=n(173),Q=n(174),V=n(175),Y=n(122),X=n(176),Z=n(86),$=n.n(Z),ee=n(87),te=n.n(ee),ne=n(88),re=n.n(ne),ae=220,ie=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{background:"white",boxShadow:"none",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(ae,"px)"),marginLeft:ae,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{color:"gray",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:ae,flexShrink:0},drawerPaper:{width:ae},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-220},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},small:{width:e.spacing(4),height:e.spacing(4)},formControl:{margin:e.spacing(1),minWidth:120}}}));Object(_.a)({root:{justifyContent:"flex-end"}})(S.a);function ce(e){var t=Object(a.useContext)(b).currentUser,n=ie(),c=Object(J.a)(),s=Object(a.useState)(!1),l=Object(o.a)(s,2),j=l[0],O=l[1],x=Object(a.useState)(!1),p=Object(o.a)(x,2),g=(p[0],p[1],i.a.useState(null)),m=Object(o.a)(g,2),v=m[0];m[1],Boolean(v);return Object(r.jsxs)("div",{className:n.root,children:[Object(r.jsx)(M.a,{}),Object(r.jsx)(Q.a,{position:"fixed",className:Object(R.a)(n.appBar,Object(z.a)({},n.appBarShift,j)),children:Object(r.jsxs)(V.a,{children:[Object(r.jsx)(Y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){O(!0)},edge:"start",className:Object(R.a)(n.menuButton,j&&n.hide),children:Object(r.jsx)($.a,{})}),Object(r.jsx)(f.a,{container:!0,style:{flexGrow:1},children:Object(r.jsx)("img",{src:"https://kloop.kg/wp-content/uploads/2017/01/kloop_transparent_site.png",alt:"Kloop.kg - \u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d\u0430",style:{width:150,height:"auto"}})}),t?Object(r.jsx)("div",{children:Object(r.jsx)(G.a,{style:{borderColor:"black",color:"black",marginLeft:10,fontSize:12},variant:"outlined",size:"small",onClick:function(){return u.auth().signOut()},children:"\u0412\u044b\u0445\u043e\u0434"})}):Object(r.jsx)(G.a,{style:{borderColor:"black",color:"black",marginLeft:10,fontSize:12},size:"small",variant:"outlined",onClick:d,children:"\u0432\u0445\u043e\u0434"})]})}),Object(r.jsxs)(K.a,{className:n.drawer,variant:"persistent",anchor:"left",open:j,classes:{paper:n.drawerPaper},children:[Object(r.jsx)("div",{className:n.drawerHeader,children:Object(r.jsx)(Y.a,{onClick:function(){O(!1)},children:"ltr"===c.direction?Object(r.jsx)(te.a,{}):Object(r.jsx)(re.a,{})})}),Object(r.jsx)(X.a,{}),Object(r.jsx)(f.a,{children:Object(r.jsx)(G.a,{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(h.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(h.b,{to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(r.jsx)("li",{children:Object(r.jsx)(h.b,{to:"/users",children:"Users"})})]})})]}),Object(r.jsxs)("main",{style:{padding:0,height:"100%",background:"transparent"},className:Object(R.a)(n.content,Object(z.a)({},n.contentShift,j)),children:[Object(r.jsx)("div",{className:n.drawerHeader}),e.children]})]})}function se(){return Object(r.jsx)("h2",{children:"Home"})}function oe(){return Object(r.jsx)("h2",{children:"Users"})}var le=function(){Object(a.useContext)(b).currentUser;return Object(r.jsx)(h.a,{children:Object(r.jsx)(f.a,{container:!0,justify:"center",children:Object(r.jsx)(ce,{children:Object(r.jsxs)(x.d,{children:[Object(r.jsx)(x.b,{path:"/profile",children:Object(r.jsx)(D,{})}),Object(r.jsx)(x.b,{path:"/users",children:Object(r.jsx)(oe,{})}),Object(r.jsx)(x.b,{path:"/",children:Object(r.jsx)(se,{})})]})})})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O,{children:Object(r.jsx)(le,{})})}),document.getElementById("root")),je()}},[[118,1,2]]]);
//# sourceMappingURL=main.a381a48f.chunk.js.map